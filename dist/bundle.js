//compressed version of sp_setup.js
function setupTracker(e,t,n,a,o,r){var s,c,l,u,d,p,w,g="xsyTcookie",m="xsyCookie",v=!1,E=0;function k(e,n){var a;a=void 0==n?new RegExp(e+"id\\.[0-9a-z]+=([0-9a-z-]+).*?"):new RegExp(e+"id\\."+n+"=([^;]+);?");var o=t.cookie.match(a);return o&&o[1]?o[1].split()[0]:null}function f(){var n,o,i,s;v&&(spCookie=k(g),n=v,o=spCookie,i=r,(s=new XMLHttpRequest).onreadystatechange=function(){if(4==s.readyState)if(200==s.status){var c=s.responseText;e.snowplow("setUserId",c),t.cookie=m+"id."+r+"="+c+";max-age=63072000"}else E<3&&(E+=1,setTimeout(function(){s.open("GET",a+"isnew="+n+"&ck="+o+"&tid="+i,!0),s.send(null)},2e3))},s.open("GET",a+"isnew="+n+"&ck="+o+"&tid="+i,!0),s.send(null))}function h(){var e=["utm_source","utm_medium","utm_tern","utm_content","utm_campaign"],n={isExist:!1,params:{targeURL:t.URL}};for(idx in e){var a=new RegExp(e[idx]+"=([^&]*)").exec(t.URL);a&&a[1]&&(n.isExist=!0,n.params[e[idx]]=a[1])}return n}c=t,l="script",u=n,(s=e)[d="snowplow"]||(s.GlobalSnowplowNamespace=s.GlobalSnowplowNamespace||[],s.GlobalSnowplowNamespace.push(d),s[d]=function(){(s[d].q=s[d].q||[]).push(arguments)},s[d].q=s[d].q||[],p=c.createElement(l),w=c.getElementsByTagName(l)[0],p.async=1,p.src=u,p.onload=f,w.parentNode.insertBefore(p,w)),e.snowplow("newTracker","myTracker111",o,{encodeBase64:!1,appId:r,cookieName:g,stateStorageStrategy:"cookie",userFingerprint:!1}),e.snowplow("setReferrerUrl",t.referred||"n/a");var x=k(m,r);null==x?(v=!0,x="noCookie",e.snowplow("setUserId","")):(v=!1,e.snowplow("setUserId",x)),e.snowplow("enableActivityTracking",30,30),e.snowplow("trackPageView",null,"",function(){return{pageHeight:Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.documentElement.clientHeight),viewHeight:Math.max(t.documentElement.clientHeight,e.innerHeight)}});var y=h();y.isExist?e.snowplow("trackSelfDescribingEvent",y.params):e.snowplow("trackSelfDescribingEvent",{targetURL:h.params.targeURL}),e.addEventListener("load",function(n){var a=t.getElementsByClassName("trackEnter");for(i=0;i<a.length;i++)a[i].addEventListener("mouseenter",function(t){e.snowplow("trackStructEvent","button","enter",t.target.id,"","")}),a[i].addEventListener("mouseleave",function(t){e.snowplow("trackStructEvent","button","leave",t.target.id,"","")});var o=t.getElementsByClassName("trackClick");for(i=0;i<o.length;i++)o[i].addEventListener("click",function(t){e.snowplow("trackStructEvent","button","click",t.target.id,"","")});var r=t.getElementsByClassName("trackVideo");for(i=0;i<r.length;i++)r[i].addEventListener("play",function(t){e.snowplow("trackStructEvent","video","play",t.target.id,t.target.src,"")}),r[i].addEventListener("pause",function(t){e.snowplow("trackStructEvent","video","pause",t.target.id,t.target.src,"")});var s=t.getElementsByClassName("trackLink");for(i=0;i<s.length;i++)s[i].addEventListener("click",function(t){var n=t.currentTarget,a=new RegExp(".([a-zA-Z0-9]+)$"),o=n.href.match(a),i="n/a";o&&o[1]&&(i=o[1]),e.snowplow("trackStructEvent","link","download",n.id,n.href,i)},!1)})}